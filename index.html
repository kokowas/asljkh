<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Adjectif Ã‰pithÃ¨te - LeÃ§on Interactive</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        /* Animation Intro Styles */
        #animationIntro {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        #animationIntro.active {
            display: flex;
        }
        
        #animationIntro.hidden {
            display: none;
        }
        
        .animation-container {
            /* Exact same as whiteboard-frame */
            background: linear-gradient(145deg, #2c2c2c 0%, #1a1a1a 100%);
            padding: 8px;
            border-radius: 8px;
            box-shadow: 
                0 2px 4px rgba(0,0,0,0.2),
                inset 0 1px 2px rgba(255,255,255,0.1);
            border: 1px solid #404040;
            width: 100%;
            max-width: 1400px;
            height: auto;
            position: relative;
        }
        
        .animation-content {
            background: white;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 85vh;
            padding: 10px;
            width: 100%;
            height: 100%;
        }
        
        .animation-content video {
            width: 100%;
            height: 100%;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            display: block;
            background: white;
        }
        
        #animationIntro:not(.active) {
            display: none;
        }
        
        /* Slim Whiteboard Frame Styles - matches animation-container */
        .whiteboard-frame {
            background: linear-gradient(145deg, #2c2c2c 0%, #1a1a1a 100%);
            padding: 8px;
            border-radius: 8px;
            box-shadow: 
                0 2px 4px rgba(0,0,0,0.2),
                inset 0 1px 2px rgba(255,255,255,0.1);
            border: 1px solid #404040;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }
        
        .whiteboard-content {
            background: white;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.08);
            min-height: 85vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px;
            min-height: 80vh;
        }
        
        .arabic-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            z-index: 1000;
            font-family: 'Poppins', sans-serif;
        }
        
        .arabic-toggle:hover {
            transform: translateY(-2px);
        }
        
        .fullscreen-btn {
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            border: none;
            padding: 0;
            width: 50px;
            height: 50px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed !important;
            top: 20px !important;
            left: 20px !important;
            z-index: 99999 !important;
            backdrop-filter: blur(10px);
            opacity: 1;
        }
        
        .fullscreen-btn.in-fullscreen {
            opacity: 0.3;
            background: rgba(255, 255, 255, 0.3);
        }
        
        .fullscreen-btn:hover,
        .fullscreen-btn.visible {
            opacity: 1 !important;
            background: rgba(255, 255, 255, 0.9);
        }
        
        .fullscreen-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(0,0,0,0.4);
            background: rgba(255, 255, 255, 1);
        }
        
        .fullscreen-btn:active {
            transform: scale(0.95);
        }
        
        .fullscreen-btn svg {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }
        
        /* Hide video controls and poster */
        video::-webkit-media-controls {
            display: none !important;
        }
        
        video::-webkit-media-controls-enclosure {
            display: none !important;
        }
        
        video {
            pointer-events: none;
        }
        
        .arabic-text {
            display: none;
            background: #fef3c7;
            border: 2px solid #f59e0b;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 1.1em;
            line-height: 1.8;
            direction: rtl;
            font-family: Arial, sans-serif;
            animation: fadeInUp 0.4s ease forwards;
        }
        
        .arabic-text.show {
            display: block;
        }
        
        .step-container {
            display: none;
        }
        
        .step-container.active {
            display: block;
        }
        
        /* Different animations for variety */
        .step-container.active.fade-in {
            animation: fadeIn 0.8s ease forwards;
        }
        
        .step-container.active.slide-in-left {
            animation: slideInLeft 0.7s ease forwards;
        }
        
        .step-container.active.slide-in-right {
            animation: slideInRight 0.7s ease forwards;
        }
        
        .step-container.active.zoom-in {
            animation: zoomIn 0.6s ease forwards;
        }
        
        .step-container.active.slide-up {
            animation: fadeInUp 0.6s ease forwards;
        }
        
        .step-container.active.rotate-in {
            animation: rotateIn 0.7s ease forwards;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes rotateIn {
            from {
                opacity: 0;
                transform: rotate(-5deg) translateY(30px);
            }
            to {
                opacity: 1;
                transform: rotate(0deg) translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Content box animations */
        .content-box, .definition-box, .key-point, .step-item, 
        .example-box, .counter-example, .explanation-box {
            animation: contentPop 0.5s ease forwards;
        }
        
        @keyframes contentPop {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        h1 {
            color: #2c3e50;
            font-size: clamp(1.5em, 5vw, 2.5em);
            margin-bottom: 10px;
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: clamp(0.9em, 3vw, 1.2em);
            margin-bottom: 30px;
            font-weight: 300;
        }
        
        .definition-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: clamp(15px, 3vw, 25px);
            border-radius: 15px;
            margin: 25px 0;
            border-left: 5px solid #4caf50;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.2);
        }
        
        .definition-box h3 {
            color: #2e7d32;
            margin-bottom: 15px;
            font-size: clamp(1.1em, 3.5vw, 1.4em);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .definition-box p {
            color: #1b5e20;
            font-size: clamp(0.95em, 2.5vw, 1.1em);
            line-height: 1.8;
        }
        
        .key-point {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #ff9800;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.2);
        }
        
        .key-point h4 {
            color: #e65100;
            margin-bottom: 10px;
            font-size: clamp(1em, 3vw, 1.2em);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .key-point p {
            color: #bf360c;
            line-height: 1.7;
            font-size: clamp(0.9em, 2.3vw, 1em);
        }
        
        .example-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #2196f3;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.2);
        }
        
        .example-box h4 {
            color: #0d47a1;
            margin-bottom: 15px;
            font-size: clamp(1em, 3vw, 1.2em);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .example-item {
            background: white;
            padding: clamp(10px, 2vw, 15px);
            margin: 10px 0;
            border-radius: 8px;
            color: #1565c0;
            font-size: clamp(0.9em, 2.3vw, 1.1em);
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);
        }
        
        .example-item strong {
            color: #0d47a1;
            font-weight: 600;
        }
        
        .counter-example {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #f44336;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.2);
        }
        
        .counter-example h4 {
            color: #c62828;
            margin-bottom: 15px;
            font-size: clamp(1em, 3vw, 1.2em);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .counter-example-item {
            background: white;
            padding: clamp(10px, 2vw, 15px);
            margin: 10px 0;
            border-radius: 8px;
            color: #d32f2f;
            font-size: clamp(0.9em, 2.3vw, 1.1em);
            box-shadow: 0 2px 8px rgba(244, 67, 54, 0.1);
        }
        
        .counter-example-item strong {
            color: #b71c1c;
            font-weight: 600;
        }
        
        .explanation-box {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #9c27b0;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.2);
        }
        
        .explanation-box h4 {
            color: #6a1b9a;
            margin-bottom: 15px;
            font-size: clamp(1em, 3vw, 1.2em);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .explanation-box p {
            color: #4a148c;
            line-height: 1.8;
            font-size: clamp(0.9em, 2.3vw, 1.05em);
        }
        
        .step-item {
            background: white;
            padding: clamp(12px, 2.5vw, 20px);
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }
        
        .step-item h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: clamp(1em, 2.8vw, 1.15em);
        }
        
        .step-item p {
            color: #555;
            line-height: 1.7;
            font-size: clamp(0.9em, 2.2vw, 1em);
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            flex: 1;
            min-width: 120px;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .nav-btn:active {
            transform: translateY(0);
        }
        
        .prev-btn {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            color: white;
        }
        
        .next-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .start-btn {
            width: 100%;
            padding: 20px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            margin-top: 20px;
        }
        
        .progress-container {
            background: #ecf0f1;
            height: 10px;
            border-radius: 10px;
            overflow: hidden;
            margin: 30px 0 20px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .step-indicator {
            text-align: center;
            color: #7f8c8d;
            font-weight: 600;
            margin-top: 10px;
            font-size: 1.1em;
        }
        
        .content-box {
            background: #f8f9fa;
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 12px;
            margin: 20px 0;
            line-height: 1.8;
            color: #2c3e50;
        }
        
        .content-box h3 {
            font-size: clamp(1em, 3vw, 1.3em);
        }
        
        .content-box p {
            font-size: clamp(0.9em, 2.3vw, 1.1em);
        }
        
        .content-box ul {
            margin-left: 25px;
            margin-top: 15px;
        }
        
        .content-box li {
            margin: 10px 0;
            color: #34495e;
            font-size: clamp(0.9em, 2.2vw, 1em);
        }
        
        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
            font-size: clamp(0.9em, 2.2vw, 1em);
        }
        
        .warning-box {
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #fbc02d;
            box-shadow: 0 4px 15px rgba(251, 192, 45, 0.2);
        }
        
        .warning-box h4 {
            color: #f57f17;
            margin-bottom: 10px;
            font-size: clamp(1em, 3vw, 1.2em);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .warning-box p {
            color: #f57f17;
            line-height: 1.7;
            font-size: clamp(0.9em, 2.3vw, 1em);
        }
        
        .activity-box {
            background: linear-gradient(135deg, #f0f4c3 0%, #dce775 100%);
            padding: clamp(15px, 3vw, 25px);
            border-radius: 15px;
            margin: 25px 0;
            border-left: 5px solid #9e9d24;
            box-shadow: 0 4px 15px rgba(158, 157, 36, 0.2);
        }
        
        .activity-box h3 {
            color: #827717;
            margin-bottom: 20px;
            font-size: clamp(1.2em, 3.5vw, 1.5em);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .activity-question {
            background: white;
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 10px;
            margin-bottom: 20px;
            color: #33691e;
            font-size: clamp(1em, 2.8vw, 1.2em);
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .activity-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .activity-option {
            background: white;
            padding: clamp(12px, 2.5vw, 18px);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            font-size: clamp(0.95em, 2.5vw, 1.1em);
            color: #558b2f;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .activity-option:hover:not(.disabled) {
            background: #f9fbe7;
            border-color: #9e9d24;
            transform: translateX(5px);
        }
        
        .activity-option.correct {
            background: #c8e6c9;
            border-color: #4caf50;
        }
        
        .activity-option.incorrect {
            background: #ffcdd2;
            border-color: #f44336;
        }
        
        .activity-option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .feedback {
            margin-top: 20px;
            padding: clamp(12px, 2.5vw, 20px);
            border-radius: 10px;
            font-weight: 600;
            font-size: clamp(1em, 2.8vw, 1.2em);
            text-align: center;
            animation: slideInUp 0.4s ease;
        }
        
        .feedback.correct {
            background: #c8e6c9;
            color: #2e7d32;
            border: 3px solid #4caf50;
        }
        
        .feedback.incorrect {
            background: #ffcdd2;
            color: #c62828;
            border: 3px solid #f44336;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .completion-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: clamp(25px, 4vw, 40px);
            border-radius: 20px;
            text-align: center;
            color: white;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
        }
        
        .completion-box h2 {
            font-size: clamp(1.5em, 5vw, 2.5em);
            margin-bottom: 20px;
        }
        
        .completion-box p {
            font-size: clamp(1em, 3vw, 1.3em);
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .completion-box ul {
            font-size: clamp(0.9em, 2.5vw, 1.1em);
        }
        
        .replay-btn {
            background: white;
            color: #667eea;
            padding: clamp(12px, 2.5vw, 18px) clamp(25px, 4vw, 40px);
            font-size: clamp(1em, 2.8vw, 1.2em);
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .replay-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(0,0,0,0.4);
        }
        
        @media (max-width: 768px) {
            #animationIntro {
                padding: 5px;
            }
            
            .container {
                padding: 15px;
            }
            
            .animation-container,
            .whiteboard-frame {
                width: 100%;
                padding: 5px;
            }
            
            .animation-content,
            .whiteboard-content {
                min-height: 85vh;
                padding: 5px;
            }
            
            .animation-content img {
                width: 100%;
                height: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Animation Intro -->
    <div id="animationIntro">
        <div class="animation-container">
            <div class="animation-content">
                <video id="animationVideo" autoplay muted playsinline preload="none" poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E" controlslist="nodownload nofullscreen noremoteplayback" disablePictureInPicture>
                    <source id="videoSource" src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>

    <!-- Fullscreen Button -->
    <button class="fullscreen-btn" onclick="toggleFullscreen()">
        <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
        </svg>
    </button>

    <!-- Arabic Toggle Button -->
    <button class="arabic-toggle" onclick="toggleArabic()">
        <span id="toggleText">ğŸŒ Ø¹Ø±Ø¨ÙŠ</span>
    </button>

    <!-- Main Content in Whiteboard Frame -->
    <div class="whiteboard-frame">
        <div class="whiteboard-content">
            <div class="container">
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="step-indicator" id="stepIndicator">Ã‰tape 1 / 13</div>

                <!-- Step 1: Welcome & Title -->
                <div id="step1" class="step-container active zoom-in">
                    <h1>ğŸ“ L'Adjectif Ã‰pithÃ¨te</h1>
                    <p class="subtitle">Une leÃ§on interactive et complÃ¨te</p>
                    
                    <div class="content-box">
                        <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ“š Bienvenue !</h3>
                        <p style="font-size: 1.1em;">Cette leÃ§on vous guidera Ã  travers tous les aspects de l'adjectif Ã©pithÃ¨te en franÃ§ais. Vous dÃ©couvrirez sa dÃ©finition, sa position, ses caractÃ©ristiques et bien plus encore !</p>
                    </div>

                    <div class="arabic-text">
                        <h3 style="margin-bottom: 15px;">ğŸ“ Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ©</h3>
                        <p>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ…! Ø³ÙŠØ±Ø´Ø¯Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³ Ø¹Ø¨Ø± Ø¬Ù…ÙŠØ¹ Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ© ÙÙŠ Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©. Ø³ØªÙƒØªØ´Ù ØªØ¹Ø±ÙŠÙÙ‡Ø§ ÙˆÙ…ÙˆÙ‚Ø¹Ù‡Ø§ ÙˆØ®ØµØ§Ø¦ØµÙ‡Ø§ ÙˆØ§Ù„Ù…Ø²ÙŠØ¯!</p>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn start-btn" onclick="startLesson()">âœ¨ Commencer la leÃ§on</button>
                    </div>
                </div>

                <!-- Step 2: Definition -->
                <div id="step2" class="step-container">
                    <h1>ğŸ“– Qu'est-ce qu'un Adjectif Ã‰pithÃ¨te ?</h1>
                    
                    <div class="definition-box">
                        <h3>âœ¨ DÃ©finition</h3>
                        <p>L'adjectif Ã©pithÃ¨te est un adjectif qualificatif qui est <strong>directement liÃ© au nom</strong> qu'il qualifie, sans l'intermÃ©diaire d'un verbe.</p>
                    </div>

                    <div class="arabic-text">
                        <h3 style="margin-bottom: 15px;">âœ¨ Ø§Ù„ØªØ¹Ø±ÙŠÙ</h3>
                        <p>Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ© Ù‡ÙŠ ØµÙØ© ØªÙˆØµÙŠÙÙŠØ© <strong>Ù…Ø±ØªØ¨Ø·Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø§Ù„Ø§Ø³Ù…</strong> Ø§Ù„Ø°ÙŠ ØªØµÙÙ‡ØŒ Ø¯ÙˆÙ† ÙˆØ³Ø§Ø·Ø© ÙØ¹Ù„.</p>
                    </div>
                    
                    <div class="key-point">
                        <h4>ğŸ”‘ Point ClÃ©</h4>
                        <p>L'adjectif Ã©pithÃ¨te enrichit directement le nom en ajoutant une qualitÃ©, une caractÃ©ristique ou une prÃ©cision.</p>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 10px;">ğŸ”‘ Ù†Ù‚Ø·Ø© Ø£Ø³Ø§Ø³ÙŠØ©</h4>
                        <p>Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ© ØªØ«Ø±ÙŠ Ø§Ù„Ø§Ø³Ù… Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¥Ø¶Ø§ÙØ© ØµÙØ© Ø£Ùˆ Ø®Ø§ØµÙŠØ© Ø£Ùˆ ØªØ­Ø¯ÙŠØ¯.</p>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 3: Basic Examples -->
                <div id="step3" class="step-container">
                    <h1>ğŸ’¡ Exemples de Base</h1>
                    
                    <div class="example-box">
                        <h4>âœ… Exemples Corrects</h4>
                        <div class="example-item">
                            <strong>Un livre intÃ©ressant</strong>
                            <p style="margin-top: 8px; color: #1976d2;">â†’ "intÃ©ressant" qualifie directement "livre"</p>
                        </div>
                        <div class="example-item">
                            <strong>Une belle fleur</strong>
                            <p style="margin-top: 8px; color: #1976d2;">â†’ "belle" qualifie directement "fleur"</p>
                        </div>
                        <div class="example-item">
                            <strong>Des enfants joyeux</strong>
                            <p style="margin-top: 8px; color: #1976d2;">â†’ "joyeux" qualifie directement "enfants"</p>
                        </div>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 15px;">âœ… Ø£Ù…Ø«Ù„Ø© ØµØ­ÙŠØ­Ø©</h4>
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>ÙƒØªØ§Ø¨ Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù…</strong> - "Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù…" ØªØµÙ "ÙƒØªØ§Ø¨" Ù…Ø¨Ø§Ø´Ø±Ø©
                        </div>
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ø²Ù‡Ø±Ø© Ø¬Ù…ÙŠÙ„Ø©</strong> - "Ø¬Ù…ÙŠÙ„Ø©" ØªØµÙ "Ø²Ù‡Ø±Ø©" Ù…Ø¨Ø§Ø´Ø±Ø©
                        </div>
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ø£Ø·ÙØ§Ù„ Ø³Ø¹Ø¯Ø§Ø¡</strong> - "Ø³Ø¹Ø¯Ø§Ø¡" ØªØµÙ "Ø£Ø·ÙØ§Ù„" Ù…Ø¨Ø§Ø´Ø±Ø©
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 4: Position Rules -->
                <div id="step4" class="step-container">
                    <h1>ğŸ“ Position de l'Adjectif Ã‰pithÃ¨te</h1>
                    
                    <div class="explanation-box">
                        <h4>ğŸ“Œ RÃ¨gle GÃ©nÃ©rale</h4>
                        <p>En franÃ§ais, l'adjectif Ã©pithÃ¨te se place <strong>gÃ©nÃ©ralement aprÃ¨s le nom</strong>, mais certains adjectifs courts et courants se placent <strong>avant le nom</strong>.</p>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 10px;">ğŸ“Œ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</h4>
                        <p>ÙÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©ØŒ Ø¹Ø§Ø¯Ø© Ù…Ø§ ØªÙˆØ¶Ø¹ Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ© <strong>Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³Ù…</strong>ØŒ Ù„ÙƒÙ† Ø¨Ø¹Ø¶ Ø§Ù„ØµÙØ§Øª Ø§Ù„Ù‚ØµÙŠØ±Ø© ÙˆØ§Ù„Ø´Ø§Ø¦Ø¹Ø© ØªÙˆØ¶Ø¹ <strong>Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³Ù…</strong>.</p>
                    </div>
                    
                    <div class="step-item">
                        <h4>1ï¸âƒ£ AprÃ¨s le Nom (La MajoritÃ©)</h4>
                        <p><strong>Exemples :</strong> un garÃ§on intelligent, une maison spacieuse, un film passionnant</p>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³Ù… (Ø§Ù„Ø£ØºÙ„Ø¨ÙŠØ©)</strong> - ÙˆÙ„Ø¯ Ø°ÙƒÙŠØŒ Ù…Ù†Ø²Ù„ ÙˆØ§Ø³Ø¹ØŒ ÙÙŠÙ„Ù… Ù…Ø«ÙŠØ±
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <h4>2ï¸âƒ£ Avant le Nom (Exceptions Courantes)</h4>
                        <p><strong>Exemples :</strong> un beau paysage, une petite maison, un jeune homme, un bon livre</p>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³Ù… (Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª Ø´Ø§Ø¦Ø¹Ø©)</strong> - Ù…Ù†Ø¸Ø± Ø¬Ù…ÙŠÙ„ØŒ Ù…Ù†Ø²Ù„ ØµØºÙŠØ±ØŒ Ø±Ø¬Ù„ Ø´Ø§Ø¨ØŒ ÙƒØªØ§Ø¨ Ø¬ÙŠØ¯
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 5: BANGS Rule -->
                <div id="step5" class="step-container">
                    <h1>ğŸ¯ La RÃ¨gle BANGS</h1>
                    
                    <div class="key-point">
                        <h4>ğŸ’ MÃ©thode MnÃ©motechnique</h4>
                        <p>Les adjectifs qui se placent <strong>AVANT</strong> le nom peuvent Ãªtre mÃ©morisÃ©s avec l'acronyme <span class="highlight">BANGS</span> :</p>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 10px;">ğŸ’ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ°ÙƒØ±</h4>
                        <p>ÙŠÙ…ÙƒÙ† ØªØ°ÙƒØ± Ø§Ù„ØµÙØ§Øª Ø§Ù„ØªÙŠ ØªÙˆØ¶Ø¹ <strong>Ù‚Ø¨Ù„</strong> Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„Ø§Ø®ØªØµØ§Ø± <span class="highlight">BANGS</span>:</p>
                    </div>
                    
                    <div class="step-item">
                        <h4>B - Beauty (BeautÃ©)</h4>
                        <p>beau, belle, joli, laid</p>
                    </div>
                    
                    <div class="step-item">
                        <h4>A - Age</h4>
                        <p>jeune, vieux, nouveau, ancien</p>
                    </div>
                    
                    <div class="step-item">
                        <h4>N - Number (Nombre)</h4>
                        <p>premier, deuxiÃ¨me, dernier</p>
                    </div>
                    
                    <div class="step-item">
                        <h4>G - Goodness (QualitÃ© morale)</h4>
                        <p>bon, mauvais, gentil, mÃ©chant</p>
                    </div>
                    
                    <div class="step-item">
                        <h4>S - Size (Taille)</h4>
                        <p>grand, petit, gros, long, court</p>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>B - Ø§Ù„Ø¬Ù…Ø§Ù„:</strong> Ø¬Ù…ÙŠÙ„ØŒ Ù‚Ø¨ÙŠØ­<br>
                            <strong>A - Ø§Ù„Ø¹Ù…Ø±:</strong> Ø´Ø§Ø¨ØŒ ÙƒØ¨ÙŠØ± Ø§Ù„Ø³Ù†ØŒ Ø¬Ø¯ÙŠØ¯ØŒ Ù‚Ø¯ÙŠÙ…<br>
                            <strong>N - Ø§Ù„Ø±Ù‚Ù…:</strong> Ø£ÙˆÙ„ØŒ Ø«Ø§Ù†ÙŠØŒ Ø£Ø®ÙŠØ±<br>
                            <strong>G - Ø§Ù„ØµÙØ§Øª Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ÙŠØ©:</strong> Ø¬ÙŠØ¯ØŒ Ø³ÙŠØ¦ØŒ Ù„Ø·ÙŠÙØŒ Ø´Ø±ÙŠØ±<br>
                            <strong>S - Ø§Ù„Ø­Ø¬Ù…:</strong> ÙƒØ¨ÙŠØ±ØŒ ØµØºÙŠØ±ØŒ Ø¶Ø®Ù…ØŒ Ø·ÙˆÙŠÙ„ØŒ Ù‚ØµÙŠØ±
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 6: Agreement Rules -->
                <div id="step6" class="step-container">
                    <h1>âš–ï¸ Accord de l'Adjectif Ã‰pithÃ¨te</h1>
                    
                    <div class="definition-box">
                        <h3>ğŸ“ RÃ¨gle d'Accord</h3>
                        <p>L'adjectif Ã©pithÃ¨te s'accorde <strong>en genre</strong> (masculin/fÃ©minin) et <strong>en nombre</strong> (singulier/pluriel) avec le nom qu'il qualifie.</p>
                    </div>

                    <div class="arabic-text">
                        <h3 style="margin-bottom: 15px;">ğŸ“ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„ØªÙˆØ§ÙÙ‚</h3>
                        <p>Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ© ØªÙˆØ§ÙÙ‚ <strong>ÙÙŠ Ø§Ù„Ø¬Ù†Ø³</strong> (Ù…Ø°ÙƒØ±/Ù…Ø¤Ù†Ø«) Ùˆ<strong>ÙÙŠ Ø§Ù„Ø¹Ø¯Ø¯</strong> (Ù…ÙØ±Ø¯/Ø¬Ù…Ø¹) Ù…Ø¹ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø°ÙŠ ØªØµÙÙ‡.</p>
                    </div>
                    
                    <div class="example-box">
                        <h4>âœ… Exemples d'Accord</h4>
                        <div class="example-item">
                            <strong>Masculin singulier :</strong> un chat noir
                        </div>
                        <div class="example-item">
                            <strong>FÃ©minin singulier :</strong> une chatte noire
                        </div>
                        <div class="example-item">
                            <strong>Masculin pluriel :</strong> des chats noirs
                        </div>
                        <div class="example-item">
                            <strong>FÃ©minin pluriel :</strong> des chattes noires
                        </div>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 15px;">âœ… Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§ÙÙ‚</h4>
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ù…Ø°ÙƒØ± Ù…ÙØ±Ø¯:</strong> Ù‚Ø· Ø£Ø³ÙˆØ¯<br>
                            <strong>Ù…Ø¤Ù†Ø« Ù…ÙØ±Ø¯:</strong> Ù‚Ø·Ø© Ø³ÙˆØ¯Ø§Ø¡<br>
                            <strong>Ù…Ø°ÙƒØ± Ø¬Ù…Ø¹:</strong> Ù‚Ø·Ø· Ø³ÙˆØ¯Ø§Ø¡<br>
                            <strong>Ù…Ø¤Ù†Ø« Ø¬Ù…Ø¹:</strong> Ù‚Ø·Ø· Ø³ÙˆØ¯Ø§Ø¡
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 7: Difference from Attribut -->
                <div id="step7" class="step-container">
                    <h1>ğŸ”„ Ã‰pithÃ¨te vs Attribut</h1>
                    
                    <div class="explanation-box">
                        <h4>ğŸ­ Quelle est la diffÃ©rence ?</h4>
                        <p>Il est essentiel de distinguer l'adjectif <strong>Ã©pithÃ¨te</strong> de l'adjectif <strong>attribut</strong>.</p>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 10px;">ğŸ­ Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙØ±Ù‚ØŸ</h4>
                        <p>Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø§Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„ØµÙØ© <strong>Ø§Ù„Ù†Ø¹ØªÙŠØ©</strong> ÙˆØ§Ù„ØµÙØ© <strong>Ø§Ù„Ù…Ø³Ù†Ø¯Ø©</strong>.</p>
                    </div>
                    
                    <div class="example-box">
                        <h4>âœ¨ Adjectif Ã‰PITHÃˆTE</h4>
                        <div class="example-item">
                            <strong>Un livre intÃ©ressant</strong>
                            <p style="margin-top: 8px; color: #1976d2;">â†’ Directement liÃ© au nom, sans verbe</p>
                        </div>
                    </div>

                    <div class="arabic-text">
                        <div style="background: #e3f2fd; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>ØµÙØ© Ù†Ø¹ØªÙŠØ©:</strong> ÙƒØªØ§Ø¨ Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… - Ù…Ø±ØªØ¨Ø·Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø¯ÙˆÙ† ÙØ¹Ù„
                        </div>
                    </div>
                    
                    <div class="counter-example">
                        <h4>ğŸ”— Adjectif ATTRIBUT</h4>
                        <div class="counter-example-item">
                            <strong>Ce livre est intÃ©ressant</strong>
                            <p style="margin-top: 8px; color: #d32f2f;">â†’ ReliÃ© au nom par un verbe d'Ã©tat (Ãªtre, paraÃ®tre, sembler...)</p>
                        </div>
                    </div>

                    <div class="arabic-text">
                        <div style="background: #ffebee; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>ØµÙØ© Ù…Ø³Ù†Ø¯Ø©:</strong> Ù‡Ø°Ø§ Ø§Ù„ÙƒØªØ§Ø¨ Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… - Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ø§Ø³Ù… Ø¹Ø¨Ø± ÙØ¹Ù„ Ø­Ø§Ù„Ø©
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 8: Multiple Adjectives -->
                <div id="step8" class="step-container">
                    <h1>ğŸ¨ Plusieurs Adjectifs Ã‰pithÃ¨tes</h1>
                    
                    <div class="key-point">
                        <h4>âœ¨ RÃ¨gle de Coordination</h4>
                        <p>On peut utiliser plusieurs adjectifs Ã©pithÃ¨tes pour qualifier un mÃªme nom. Ils doivent Ãªtre reliÃ©s par une conjonction comme <strong>"et"</strong>.</p>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 10px;">âœ¨ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø±Ø¨Ø·</h4>
                        <p>ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ø¯Ø© ØµÙØ§Øª Ù†Ø¹ØªÙŠØ© Ù„ÙˆØµÙ Ù†ÙØ³ Ø§Ù„Ø§Ø³Ù…. ÙŠØ¬Ø¨ Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ø£Ø¯Ø§Ø© Ø¹Ø·Ù Ù…Ø«Ù„ <strong>"Ùˆ"</strong>.</p>
                    </div>
                    
                    <div class="example-box">
                        <h4>âœ… Exemples</h4>
                        <div class="example-item">
                            <strong>Une maison grande et moderne</strong>
                        </div>
                        <div class="example-item">
                            <strong>Un film passionnant et Ã©mouvant</strong>
                        </div>
                        <div class="example-item">
                            <strong>Des fleurs rouges, blanches et bleues</strong>
                        </div>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 15px;">âœ… Ø£Ù…Ø«Ù„Ø©</h4>
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            Ù…Ù†Ø²Ù„ ÙƒØ¨ÙŠØ± ÙˆØ¹ØµØ±ÙŠ<br>
                            ÙÙŠÙ„Ù… Ù…Ø«ÙŠØ± ÙˆÙ…Ø¤Ø«Ø±<br>
                            Ø²Ù‡ÙˆØ± Ø­Ù…Ø±Ø§Ø¡ ÙˆØ¨ÙŠØ¶Ø§Ø¡ ÙˆØ²Ø±Ù‚Ø§Ø¡
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 9: Common Mistakes -->
                <div id="step9" class="step-container">
                    <h1>âš ï¸ Erreurs FrÃ©quentes</h1>
                    
                    <div class="warning-box">
                        <h4>ğŸš¨ Attention !</h4>
                        <p>Voici les erreurs les plus courantes Ã  Ã©viter avec les adjectifs Ã©pithÃ¨tes.</p>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 10px;">ğŸš¨ Ø§Ù†ØªØ¨Ù‡!</h4>
                        <p>Ø¥Ù„ÙŠÙƒ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ù‹Ø§ Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ ØªØ¬Ù†Ø¨Ù‡Ø§ Ù…Ø¹ Ø§Ù„ØµÙØ§Øª Ø§Ù„Ù†Ø¹ØªÙŠØ©.</p>
                    </div>
                    
                    <div class="counter-example">
                        <h4>âŒ Erreur 1 : Mauvaise Position</h4>
                        <div class="counter-example-item">
                            âŒ <strong>Un intÃ©ressant livre</strong><br>
                            âœ… <strong>Un livre intÃ©ressant</strong>
                        </div>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ø®Ø·Ø£ 1: Ù…ÙˆÙ‚Ø¹ Ø®Ø§Ø·Ø¦</strong><br>
                            âŒ ÙƒØªØ§Ø¨ Ù…Ø«ÙŠØ± (ÙÙŠ ØºÙŠØ± Ù…ÙˆØ¶Ø¹Ù‡)<br>
                            âœ… ÙƒØªØ§Ø¨ Ù…Ø«ÙŠØ± (ÙÙŠ Ø§Ù„Ù…ÙˆØ¶Ø¹ Ø§Ù„ØµØ­ÙŠØ­)
                        </div>
                    </div>
                    
                    <div class="counter-example">
                        <h4>âŒ Erreur 2 : Oubli de l'Accord</h4>
                        <div class="counter-example-item">
                            âŒ <strong>Des filles intelligent</strong><br>
                            âœ… <strong>Des filles intelligentes</strong>
                        </div>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ø®Ø·Ø£ 2: Ù†Ø³ÙŠØ§Ù† Ø§Ù„ØªÙˆØ§ÙÙ‚</strong><br>
                            âŒ Ø¨Ù†Ø§Øª Ø°ÙƒÙŠ (Ø¯ÙˆÙ† ØªÙˆØ§ÙÙ‚)<br>
                            âœ… Ø¨Ù†Ø§Øª Ø°ÙƒÙŠØ§Øª (Ù…Ø¹ Ø§Ù„ØªÙˆØ§ÙÙ‚)
                        </div>
                    </div>
                    
                    <div class="counter-example">
                        <h4>âŒ Erreur 3 : Confusion avec l'Attribut</h4>
                        <div class="counter-example-item">
                            âŒ <strong>Un garÃ§on est intelligent</strong> (ce n'est pas une Ã©pithÃ¨te)<br>
                            âœ… <strong>Un garÃ§on intelligent</strong> (Ã©pithÃ¨te)
                        </div>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ø®Ø·Ø£ 3: Ø§Ù„Ø®Ù„Ø· Ù…Ø¹ Ø§Ù„ØµÙØ© Ø§Ù„Ù…Ø³Ù†Ø¯Ø©</strong><br>
                            âŒ ÙˆÙ„Ø¯ Ù‡Ùˆ Ø°ÙƒÙŠ (Ù„ÙŠØ³Øª Ù†Ø¹ØªÙŠØ©)<br>
                            âœ… ÙˆÙ„Ø¯ Ø°ÙƒÙŠ (Ù†Ø¹ØªÙŠØ©)
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 10: Special Cases -->
                <div id="step10" class="step-container">
                    <h1>ğŸ”® Cas Particuliers</h1>
                    
                    <div class="explanation-box">
                        <h4>ğŸ’« Adjectifs Ã  Double Sens</h4>
                        <p>Certains adjectifs changent de sens selon leur position !</p>
                    </div>

                    <div class="arabic-text">
                        <h4 style="margin-bottom: 10px;">ğŸ’« ØµÙØ§Øª Ø°Ø§Øª Ù…Ø¹Ù†Ù‰ Ù…Ø²Ø¯ÙˆØ¬</h4>
                        <p>Ø¨Ø¹Ø¶ Ø§Ù„ØµÙØ§Øª ØªØºÙŠØ± Ù…Ø¹Ù†Ø§Ù‡Ø§ Ø­Ø³Ø¨ Ù…ÙˆÙ‚Ø¹Ù‡Ø§!</p>
                    </div>
                    
                    <div class="example-box">
                        <h4>ğŸ“ Exemple : "Grand"</h4>
                        <div class="example-item">
                            <strong>Un grand homme</strong> = un homme important, cÃ©lÃ¨bre
                        </div>
                        <div class="example-item">
                            <strong>Un homme grand</strong> = un homme de grande taille
                        </div>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ù…Ø«Ø§Ù„: "ÙƒØ¨ÙŠØ±"</strong><br>
                            Ø±Ø¬Ù„ Ø¹Ø¸ÙŠÙ… = Ø±Ø¬Ù„ Ù…Ù‡Ù…ØŒ Ù…Ø´Ù‡ÙˆØ±<br>
                            Ø±Ø¬Ù„ Ø·ÙˆÙŠÙ„ Ø§Ù„Ù‚Ø§Ù…Ø© = Ø±Ø¬Ù„ Ø¨Ù‚Ø§Ù…Ø© ÙƒØ¨ÙŠØ±Ø©
                        </div>
                    </div>
                    
                    <div class="example-box">
                        <h4>ğŸ“ Exemple : "Ancien"</h4>
                        <div class="example-item">
                            <strong>Mon ancien professeur</strong> = mon ex-professeur
                        </div>
                        <div class="example-item">
                            <strong>Un professeur ancien</strong> = un vieux professeur
                        </div>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>Ù…Ø«Ø§Ù„: "Ù‚Ø¯ÙŠÙ…"</strong><br>
                            Ø£Ø³ØªØ§Ø°ÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚ = Ø£Ø³ØªØ§Ø°ÙŠ Ø§Ù„Ø°ÙŠ ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠ<br>
                            Ø£Ø³ØªØ§Ø° Ø¹Ø¬ÙˆØ² = Ø£Ø³ØªØ§Ø° ÙƒØ¨ÙŠØ± ÙÙŠ Ø§Ù„Ø³Ù†
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 11: Practice Tips -->
                <div id="step11" class="step-container">
                    <h1>ğŸ’ª Conseils pour MaÃ®triser l'Ã‰pithÃ¨te</h1>
                    
                    <div class="step-item">
                        <h4>1ï¸âƒ£ MÃ©morisez la rÃ¨gle BANGS</h4>
                        <p>C'est votre meilleur alliÃ© pour savoir quels adjectifs se placent avant le nom !</p>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>1ï¸âƒ£ Ø§Ø­ÙØ¸ Ù‚Ø§Ø¹Ø¯Ø© BANGS</strong> - Ø£ÙØ¶Ù„ Ø­Ù„ÙŠÙ Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„ØµÙØ§Øª Ø§Ù„ØªÙŠ ØªÙˆØ¶Ø¹ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³Ù…!
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <h4>2ï¸âƒ£ Pratiquez l'accord</h4>
                        <p>EntraÃ®nez-vous rÃ©guliÃ¨rement Ã  accorder les adjectifs en genre et en nombre.</p>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>2ï¸âƒ£ ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§ÙÙ‚</strong> - ØªÙ…Ø±Ù† Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ø¹Ù„Ù‰ ØªÙˆØ§ÙÙ‚ Ø§Ù„ØµÙØ§Øª ÙÙŠ Ø§Ù„Ø¬Ù†Ø³ ÙˆØ§Ù„Ø¹Ø¯Ø¯.
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <h4>3ï¸âƒ£ Lisez beaucoup</h4>
                        <p>La lecture vous aidera Ã  intÃ©rioriser naturellement la position des adjectifs.</p>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>3ï¸âƒ£ Ø§Ù‚Ø±Ø£ ÙƒØ«ÙŠØ±Ù‹Ø§</strong> - Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø³ØªØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØµÙØ§Øª Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ.
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <h4>4ï¸âƒ£ Faites attention au contexte</h4>
                        <p>Certains adjectifs changent de sens selon leur position - soyez attentifs !</p>
                    </div>

                    <div class="arabic-text">
                        <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px;">
                            <strong>4ï¸âƒ£ Ø§Ù†ØªØ¨Ù‡ Ù„Ù„Ø³ÙŠØ§Ù‚</strong> - Ø¨Ø¹Ø¶ Ø§Ù„ØµÙØ§Øª ØªØºÙŠØ± Ù…Ø¹Ù†Ø§Ù‡Ø§ Ø­Ø³Ø¨ Ù…ÙˆÙ‚Ø¹Ù‡Ø§ - ÙƒÙ† Ù…Ù†ØªØ¨Ù‡Ù‹Ø§!
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                        <button class="nav-btn next-btn" onclick="nextStep()">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 12: Quiz Activity -->
                <div id="step12" class="step-container">
                    <h1>ğŸ¯ ActivitÃ© Pratique</h1>
                    
                    <div class="activity-box">
                        <h3>ğŸ§  Mini-Quiz</h3>
                        <div class="activity-question">
                            Quelle phrase contient un adjectif Ã©pithÃ¨te correctement placÃ© ?
                        </div>
                        <div class="activity-options" id="quiz-options"></div>
                        <div id="feedback"></div>
                    </div>

                    <div class="arabic-text">
                        <h3 style="margin-bottom: 15px;">ğŸ§  Ø§Ø®ØªØ¨Ø§Ø± ØµØºÙŠØ±</h3>
                        <p>Ø£ÙŠ Ø¬Ù…Ù„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ØµÙØ© Ù†Ø¹ØªÙŠØ© Ù…ÙˆØ¶ÙˆØ¹Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ØŸ</p>
                    </div>
                    
                    <div class="navigation">
                        <button class="nav-btn prev-btn" onclick="prevStep()">â† PrÃ©cÃ©dent</button>
                    </div>
                </div>

                <!-- Step 13: Completion -->
                <div id="step13" class="step-container">
                    <div class="completion-box">
                        <h2>ğŸ‰ FÃ©licitations !</h2>
                        <p>Vous avez terminÃ© la leÃ§on sur l'adjectif Ã©pithÃ¨te !</p>
                        <p>Vous maÃ®trisez maintenant :</p>
                        <ul style="text-align: left; display: inline-block; margin: 20px auto;">
                            <li>âœ… La dÃ©finition de l'adjectif Ã©pithÃ¨te</li>
                            <li>âœ… Les rÃ¨gles de position (BANGS)</li>
                            <li>âœ… L'accord en genre et en nombre</li>
                            <li>âœ… La diffÃ©rence avec l'attribut</li>
                            <li>âœ… Les cas particuliers</li>
                        </ul>
                        <button class="replay-btn" onclick="replayLesson()">ğŸ”„ Recommencer la leÃ§on</button>
                    </div>

                    <div class="arabic-text">
                        <h2 style="margin-bottom: 15px;">ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ!</h2>
                        <p>Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ø¯Ø±Ø³ Ø¹Ù† Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ©!</p>
                        <p>Ø£Ù†Øª Ø§Ù„Ø¢Ù† ØªØªÙ‚Ù†:</p>
                        <ul style="text-align: right; margin: 20px 0; line-height: 2;">
                            <li>âœ… ØªØ¹Ø±ÙŠÙ Ø§Ù„ØµÙØ© Ø§Ù„Ù†Ø¹ØªÙŠØ©</li>
                            <li>âœ… Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (BANGS)</li>
                            <li>âœ… Ø§Ù„ØªÙˆØ§ÙÙ‚ ÙÙŠ Ø§Ù„Ø¬Ù†Ø³ ÙˆØ§Ù„Ø¹Ø¯Ø¯</li>
                            <li>âœ… Ø§Ù„ÙØ±Ù‚ Ù…Ø¹ Ø§Ù„ØµÙØ© Ø§Ù„Ù…Ø³Ù†Ø¯Ø©</li>
                            <li>âœ… Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø®Ø§ØµØ©</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Detect if device is in portrait or landscape mode
        function isPortraitMode() {
            return window.innerHeight > window.innerWidth;
        }
        
        // Get the correct video path based on orientation
        function getVideoPath() {
            if (isPortraitMode()) {
                // Portrait mode - vertical animation
                return 'up_to_down_vertical.mp4';
            } else {
                // Landscape mode - horizontal animation
                return 'up_to_down_landscape.mp4';
            }
        }

        // Play animation video - triggered by button click
        function playAnimation() {
            const animIntro = document.getElementById('animationIntro');
            const animVideo = document.getElementById('animationVideo');
            const videoSource = document.getElementById('videoSource');
            
            // IMPORTANT: Remove hidden class first, then add active
            animIntro.classList.remove('hidden');
            animIntro.classList.add('active');
            
            // Set the correct video source based on orientation
            const videoPath = getVideoPath();
            console.log('Loading video:', videoPath);
            console.log('Is portrait mode:', isPortraitMode());
            
            // Reset video before playing
            animVideo.pause();
            animVideo.currentTime = 0;
            
            videoSource.src = videoPath;
            animVideo.load();
            
            // Add event listeners for debugging
            animVideo.onloadeddata = function() {
                console.log('Video loaded successfully');
            };
            
            animVideo.onerror = function(e) {
                console.error('Video error:', e);
                console.error('Failed to load:', videoPath);
                // Try to continue anyway after 2 seconds
                setTimeout(() => {
                    animIntro.classList.remove('active');
                    animIntro.classList.add('hidden');
                    nextStep();
                }, 2000);
            };
            
            // Play the video with promise handling
            const playPromise = animVideo.play();
            
            if (playPromise !== undefined) {
                playPromise.then(function() {
                    console.log('Video playing');
                }).catch(function(error) {
                    console.error('Play error:', error);
                    // Auto-advance if video fails to play
                    setTimeout(() => {
                        animIntro.classList.remove('active');
                        animIntro.classList.add('hidden');
                        nextStep();
                    }, 2000);
                });
            }
            
            // When video ends, show the lesson
            animVideo.onended = function() {
                console.log('Video ended');
                animIntro.classList.remove('active');
                animIntro.classList.add('hidden');
                
                // Move to step 2
                nextStep();
            };
        }

        // Start lesson function - plays animation first
        function startLesson() {
            console.log('startLesson called');
            console.log('Current step:', currentStep);
            playAnimation();
        }
        
        // Reload video if orientation changes
        window.addEventListener('resize', function() {
            const animVideo = document.getElementById('animationVideo');
            if (!animVideo.paused) {
                // Video is playing, reload with correct orientation
                const videoSource = document.getElementById('videoSource');
                videoSource.src = getVideoPath();
                animVideo.load();
                animVideo.play();
            }
        });

        // Lesson Navigation
        let currentStep = 1;
        const totalSteps = 13;
        let showArabic = false;
        
        const animations = ['fade-in', 'slide-in-left', 'slide-in-right', 'zoom-in', 'slide-up', 'rotate-in'];
        
        // Quiz data
        const quizOptions = [
            { id: 'A', text: 'Le est grand chien', correct: false },
            { id: 'B', text: 'Une belle maison', correct: true },
            { id: 'C', text: 'Un intÃ©ressant livre', correct: false },
            { id: 'D', text: 'Des intelligent Ã©lÃ¨ves', correct: false }
        ];
        
        function initializeQuiz() {
            const container = document.getElementById('quiz-options');
            container.innerHTML = '';
            
            quizOptions.forEach(option => {
                const div = document.createElement('div');
                div.className = 'activity-option';
                div.innerHTML = `<strong>${option.id}.</strong> ${option.text}`;
                div.onclick = () => checkAnswer(option.id);
                container.appendChild(div);
            });
        }
        
        function toggleArabic() {
            showArabic = !showArabic;
            const arabicTexts = document.querySelectorAll('.arabic-text');
            const toggleBtn = document.getElementById('toggleText');
            
            arabicTexts.forEach(text => {
                if (showArabic) {
                    text.classList.add('show');
                } else {
                    text.classList.remove('show');
                }
            });
            
            toggleBtn.textContent = showArabic ? 'ğŸŒ FranÃ§ais' : 'ğŸŒ Ø¹Ø±Ø¨ÙŠ';
        }
        
        function nextStep() {
            if (currentStep >= totalSteps) return;
            
            // Hide current step
            const currentStepElement = document.getElementById('step' + currentStep);
            currentStepElement.classList.remove('active');
            
            // Remove all animation classes
            animations.forEach(anim => {
                currentStepElement.classList.remove(anim);
            });
            
            // Move to next step
            currentStep++;
            
            // Show next step with random animation
            const nextStepElement = document.getElementById('step' + currentStep);
            const randomAnimation = animations[Math.floor(Math.random() * animations.length)];
            nextStepElement.classList.add('active', randomAnimation);
            
            // Initialize quiz if we're on step 12
            if (currentStep === 12) {
                initializeQuiz();
            }
            
            // Update progress bar
            updateProgress();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function prevStep() {
            if (currentStep <= 1) {
                // Already at first step
                return;
            }
            
            // Hide current step
            const currentStepElement = document.getElementById('step' + currentStep);
            currentStepElement.classList.remove('active');
            
            // Remove all animation classes
            animations.forEach(anim => {
                currentStepElement.classList.remove(anim);
            });
            
            // Move to previous step
            currentStep--;
            
            // Show previous step with random animation
            const prevStepElement = document.getElementById('step' + currentStep);
            const randomAnimation = animations[Math.floor(Math.random() * animations.length)];
            prevStepElement.classList.add('active', randomAnimation);
            
            // Reset quiz if going back to step 12
            if (currentStep === 12) {
                answered = false;
                document.getElementById('feedback').innerHTML = '';
                initializeQuiz();
            }
            
            // Make absolutely sure animation intro is hidden
            const animIntro = document.getElementById('animationIntro');
            animIntro.classList.add('hidden');
            animIntro.classList.remove('active');
            
            // Update progress bar
            updateProgress();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('stepIndicator').textContent = 'Ã‰tape ' + currentStep + ' / ' + totalSteps;
        }
        
        let answered = false;
        function checkAnswer(optionId) {
            if (answered) return;
            
            answered = true;
            const feedback = document.getElementById('feedback');
            const options = document.querySelectorAll('.activity-option');
            const selectedOption = quizOptions.find(opt => opt.id === optionId);
            
            // Disable all options and mark correct/incorrect
            options.forEach((option) => {
                option.classList.add('disabled');
                
                // Check if this option contains the correct answer
                const optionText = option.innerHTML;
                const correctOption = quizOptions.find(opt => opt.correct);
                
                if (optionText.includes(correctOption.text)) {
                    option.classList.add('correct');
                } else if (optionText.includes(selectedOption.text) && !selectedOption.correct) {
                    option.classList.add('incorrect');
                }
            });
            
            // Show feedback
            if (selectedOption.correct) {
                feedback.innerHTML = '<div class="feedback correct">ğŸ‰ Excellent ! C\'est la bonne rÃ©ponse !</div>';
            } else {
                feedback.innerHTML = '<div class="feedback incorrect">âŒ Pas tout Ã  fait... La bonne rÃ©ponse est B !</div>';
            }
            
            // Auto advance after 2 seconds
            setTimeout(() => {
                nextStep();
            }, 2000);
        }
        
        function replayLesson() {
            // Reset to first step
            const currentStepElement = document.getElementById('step' + currentStep);
            currentStepElement.classList.remove('active');
            animations.forEach(anim => {
                currentStepElement.classList.remove(anim);
            });
            
            currentStep = 1;
            
            // Reset progress
            updateProgress();
            
            // Reset activity
            answered = false;
            document.getElementById('feedback').innerHTML = '';
            document.getElementById('quiz-options').innerHTML = '';
            
            // Reset video completely
            const animVideo = document.getElementById('animationVideo');
            const videoSource = document.getElementById('videoSource');
            animVideo.pause();
            animVideo.currentTime = 0;
            videoSource.src = '';
            animVideo.load();
            
            // Reset animation state
            const animIntro = document.getElementById('animationIntro');
            animIntro.classList.remove('hidden');
            animIntro.classList.remove('active');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Play animation again after a short delay
            setTimeout(() => {
                playAnimation();
            }, 200);
        }
        
        // Initialize progress
        updateProgress();
        
        // Fullscreen functionality
        // Fullscreen functionality
        function toggleFullscreen() {
            const elem = document.documentElement;
            const btn = document.querySelector('.fullscreen-btn');
            
            if (!document.fullscreenElement && 
                !document.webkitFullscreenElement && 
                !document.mozFullScreenElement) {
                
                // Enter fullscreen
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.webkitRequestFullscreen) {
                    elem.webkitRequestFullscreen();
                } else if (elem.mozRequestFullScreen) {
                    elem.mozRequestFullScreen();
                } else if (elem.msRequestFullscreen) {
                    elem.msRequestFullscreen();
                }
                
                btn.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>
                    </svg>
                `;
                btn.classList.add('in-fullscreen');
            } else {
                // Exit fullscreen
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }
        }
        
        // Update button state
        function updateFullscreenButton() {
            const btn = document.querySelector('.fullscreen-btn');
            
            if (!document.fullscreenElement && 
                !document.webkitFullscreenElement && 
                !document.mozFullScreenElement) {
                btn.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                    </svg>
                `;
                btn.classList.remove('in-fullscreen');
            }
        }
        
        // Show/hide button based on interaction
        let mouseTimeout;
        function handleButtonVisibility() {
            const btn = document.querySelector('.fullscreen-btn');
            btn.classList.add('visible');
            
            clearTimeout(mouseTimeout);
            mouseTimeout = setTimeout(() => {
                btn.classList.remove('visible');
            }, 3000);
        }
        
        // Listen for mouse movement and touch
        document.addEventListener('mousemove', handleButtonVisibility);
        document.addEventListener('touchstart', handleButtonVisibility);
        document.addEventListener('scroll', handleButtonVisibility);
        
        // Fix fullscreen scrolling
        function enableFullscreenScroll() {
            if (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement) {
                // Force enable scrolling
                document.documentElement.style.overflow = 'auto';
                document.body.style.overflow = 'auto';
                document.documentElement.style.height = 'auto';
                document.body.style.height = 'auto';
                document.body.style.minHeight = '100vh';
                
                // Enable touch scrolling
                document.body.style.webkitOverflowScrolling = 'touch';
                document.body.style.touchAction = 'pan-y';
            } else {
                // Reset when exiting fullscreen
                document.documentElement.style.overflow = '';
                document.body.style.overflow = '';
                document.documentElement.style.height = '';
                document.body.style.height = '';
                document.body.style.minHeight = '';
                document.body.style.webkitOverflowScrolling = '';
                document.body.style.touchAction = '';
            }
        }
        
        // Event listeners for fullscreen changes
        document.addEventListener('fullscreenchange', function() {
            updateFullscreenButton();
            enableFullscreenScroll();
        });
        document.addEventListener('webkitfullscreenchange', function() {
            updateFullscreenButton();
            enableFullscreenScroll();
        });
        document.addEventListener('mozfullscreenchange', function() {
            updateFullscreenButton();
            enableFullscreenScroll();
        });
        document.addEventListener('MSFullscreenChange', function() {
            updateFullscreenButton();
            enableFullscreenScroll();
        });
    </script>
</body>
</html>
